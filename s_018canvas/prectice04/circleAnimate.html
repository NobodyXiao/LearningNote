<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
        <title>circleAnimate</title>
        <script src="../lib/konva/konva.min.js"></script>
    </head>
    <body>
        <div id="container">

        </div>
        <script>
            // 创建舞台
            var stage = new Konva.Stage({
                container:'container',
                width:window.innerWidth,
                height:window.innerHeight
            });
            // 创建层
            var layer = new Konva.Layer();
            stage.add(layer);
            // 舞台的中心点坐标
            var cenX = stage.width()/2;
            var cenY = stage.height()/2;
            // 创建背景层
            var bgLayer = new Konva.Layer();
            stage.add(bgLayer);
            // 绘制背景
            var innerRadius = 252/2;
            var outerRadius = 220;
            var innerCircle =new Konva.Circle({
                x:cenX,
                y:cenY,
                radius:innerRadius,
                stroke:"#ccc",
                strokeWidth:4,
                dash:[10,4],// 设置虚线
            });
            bgLayer.add(innerCircle);
            var outerCircle =new Konva.Circle({
                x:cenX,
                y:cenY,
                radius:outerRadius,
                stroke:"#ccc",
                strokeWidth:4,
                dash:[10,4],// 设置虚线
            });
            bgLayer.add(outerCircle);

            // 把中心圆添加到背景层中
            var centerCircle = new Konva.Circle({
                x:cenX,
                y:cenY,
                radius:50,
                fill:"blue",
            });
            bgLayer.add(centerCircle);
            // 添加中心圆的圆环
            var centerRing = new Konva.Ring({
                x:cenX,
                y:cenY,
                innerRadius:50,
                outerRadius:70,
                fill:"#ccc",
                opacity:0.8
            });
            bgLayer.add(centerRing);

            // 创建中心圆的文字
            var cenText = new Konva.Text({
                x:cenX-70,
                y:cenY-10,
                width:140,
                align:"center",
                text:"Web全栈",
                fontSize:20,
                fill:"#fff",
                fontFamily:"微软雅黑",
                fontStyle:"bold"

            });
            bgLayer.add(cenText);

            bgLayer.draw();

            // 动画层的绘制
            var animateLayer = new Konva.Layer();
            stage.add(animateLayer);
            var x1 = cenX+innerRadius*Math.cos(-60*Math.PI/180);
            var y1 = cenY+innerRadius*Math.sin(-60*Math.PI/180);

            var x2 = cenX+innerRadius*Math.cos(60*Math.PI/180);
            var y2 = cenY+innerRadius*Math.sin(60*Math.PI/180);
            var l2_circle1 = new Konva.Circle({
                x:x1,
                y:y1,
                radius:30,
                fill:"red",
                opacity:0.8,
            });
            animateLayer.add(l2_circle1);
            // 添加圆环
            var l2_circle1Ring = new Konva.Ring({
                x:x1,
                y:y1,
                innerRadius:30,
                outerRadius:40,
                fill:"#ccc",
                opacity:0.8
            });
            animateLayer.add(l2_circle1Ring);
            // 绘制l2_circle1上边的文字
            var l2_circle1Text = new Konva.Text({
                x:x1-20,
                y:y1-5,
                width:40,
                align:"center",
                text:"CSS",
                fontSize:10,
                fontFamily:"微软雅黑",
                fontStyle:"bold"
            });
            animateLayer.add(l2_circle1Text);

            // 绘制另外一个圆环
            var l2_circle2 = new Konva.Circle({
                x:x2,
                y:y2,
                radius:35,
                fill:"yellow",
                opacity:0.8,
            });
            animateLayer.add(l2_circle2);
            // 添加圆环
            var l2_circle2Ring = new Konva.Ring({
                x:x2,
                y:y2,
                innerRadius:35,
                outerRadius:45,
                fill:"#ccc",
                opacity:0.8
            });
            animateLayer.add(l2_circle2Ring);
            // 绘制l2_circle1上边的文字
            var l2_circle2Text = new Konva.Text({
                x:x2-22,
                y:y2-8,
                width:45,
                align:"center",
                text:"Html",
                fontSize:16,
                fontFamily:"微软雅黑",
                fontStyle:"bold"
            });
            animateLayer.add(l2_circle2Text);
            animateLayer.draw();


        </script>
    </body>
</html>